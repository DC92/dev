<!DOCTYPE html>
<!--
Â© Dominique Cavailhez 2019
https://github.com/Dominique92/MyOl
Based on https://openlayers.org
-->
<html>
<head>
	<title>My Openlayers controls</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link href="images/favicon.png" rel="icon" type="image/png" />
	<link href="images/favicon.png" rel="apple-touch-icon" />
	<link href="parts/style.css" rel="stylesheet">
</head>

<body>
	<a style="float:right" href="marker.html">Marker &#9654;</a>
	<a style="float:right;margin-right:15px" href="..">HOME</a>
	<h1 style="margin:0">Controls</h1>
	<a style="float:right" href="https://github.com/Dominique92/MyOl/">GITHUB &#9654;</a>
	<p><a href="../src/Controls.js">src/Controls.js</a> usefull controls:
		<ul>
			<li>Full screen</li>
			<li>Geocoder</li>
			<li>Print</li>
			<li>Length of a line</li>
		</ul>
	</p>
	<p><a href="../src/Files.js">src/Files.js</a> file management controls:
		<ul>
			<li>Load GPX file</li>
			<li>Download GPX file</li>
		</ul>
	<p><a href="../src/Geolocation.js">src/Geolocation.js</a> adds GPS position controls:
		<ul>
			<li>GPS</li>
		</ul>
	<p><a href="../src/controlCollection.js">src/controlCollection.js</a> adds GPS position controls:
		<ul>
			<li>GPS</li>
		</ul>
	</p>

	<div>
		<div id="map" class="map"></div>
	</div>

	<div id="myol-help">
		<p>Ceci est un exemple d'aide.</p>
	</div>

	<script type="module">
// Openlayers
import 'ol/ol.css';
import GeoJSON from 'ol/format/GeoJSON.js';
import VectorLayer from 'ol/layer/Vector.js';
import VectorSource from 'ol/source/Vector.js';
import OSM from 'ol/source/OSM.js';
import Map from 'ol/Map.js';
import TileLayer from 'ol/layer/Tile.js';
import {
	Fill,
	Stroke,
	Style,
} from 'ol/style.js';

// Geocoder
import '@kirtandesai/ol-geocoder/dist/ol-geocoder.css';
import '@kirtandesai/ol-geocoder/dist/ol-geocoder-debug.js';

// MyOl
import {
	controlCollection,
} from '../src/controlCollection.js';


const geojsonObject = {
		"type": "FeatureCollection",
		"features": [{
			"type": "Feature",
			"geometry": {
				"type": "LineString",
				"coordinates": [
					[0, 58e5, 10],
					[4e5, 62e5, 20],
				],
			},
		}, {
			"type": "Feature",
			"id": "37815",
			"geometry": {
				"type": "GeometryCollection",
				"geometries": [{
					"type": "LineString",
					"coordinates": [
						[0, 62e5, 30],
						[4e5, 62e5, 60],
						[4e5, 58e5, 50],
					]
				}, {
					"type": "LineString",
					"coordinates": [
						[4e5, 58e5, 50],
						[0, 62e5, 30],
					]
				}]
			}
		}, {
			"type": "Feature",
			"geometry": {
				"type": "MultiPolygon",
				"coordinates": [
					[
						[
							[-1.6e6, 6.4e6],
							[0, 6.4e6],
							[0, 8e6],
						],
						[
							[-1.4e6, 6.5e6],
							[-0.5e6, 6.5e6],
							[-0.5e6, 7.4e6],
						],
					],
				],
			},
		}],
	},
	vectorLayer = new VectorLayer({
		source: new VectorSource({
			features: new GeoJSON().readFeatures(geojsonObject),
		}),
		style: new Style({
			stroke: new Stroke({
				color: 'blue',
			}),
			fill: new Fill({
				color: 'rgba(0, 0, 255, 0.3)',
			}),
		}),
	});

new Map({
	target: 'map',
	layers: [
		new TileLayer({
			source: new OSM(),
		}),
	],
	controls: controlCollection({
		permalink: {
			display: true,
		},
		Help: {
			submenuId: 'myol-help',
		},
	}),
});
	</script>
	<script src="parts/print_script.js"></script>

	<h4 style="margin-bottom:0">Tests</h4>
	<div>Test each control</div>
</body>
</html>