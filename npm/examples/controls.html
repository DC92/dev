<!DOCTYPE html>
<!--
Â© Dominique Cavailhez 2019
https://github.com/Dominique92/MyOl
Based on https://openlayers.org
-->
<html>
<head>
	<title>My Openlayers controls</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link href="images/favicon.png" rel="icon" type="image/png" />

	<link href="style.css" rel="stylesheet">

	<!-- Simulation of importing myol -->
	<script> // apache (production)
		if (window.origin.split(':').length == 2) {
			document.write('<link href="../dist/myol.css" type="text/css" rel="stylesheet">');
			document.write('<script src="../dist/myol-debug.js"><&#47;script>');
		}
	</script>
	<script type="module"> // vite nmp (test)
		import myol from '../build/index'; // At this place, mysteriously do not import out of npm vite context
		window.myol = myol; // Declare a myol global variable
	</script>

	<!-- The main script must be defer or module to be run after the myol import -->
	<script type="module">
		const geojsonObject = {
				"type": "FeatureCollection",
				"features": [{
					"type": "Feature",
					"geometry": {
						"type": "LineString",
						"coordinates": [
							[0, 58e5, 10],
							[4e5, 62e5, 20],
						],
					},
				}, {
					"type": "Feature",
					"id": "37815",
					"geometry": {
						"type": "GeometryCollection",
						"geometries": [{
							"type": "LineString",
							"coordinates": [
								[0, 62e5, 30],
								[4e5, 62e5, 60],
								[4e5, 58e5, 50],
							]
						}, {
							"type": "LineString",
							"coordinates": [
								[4e5, 58e5, 50],
								[0, 62e5, 30],
							]
						}]
					}
				}, {
					"type": "Feature",
					"geometry": {
						"type": "MultiPolygon",
						"coordinates": [
							[
								[
									[-1.6e6, 6.4e6],
									[0, 6.4e6],
									[0, 8e6],
								],
								[
									[-1.4e6, 6.5e6],
									[-0.5e6, 6.5e6],
									[-0.5e6, 7.4e6],
								],
							],
						],
					},
				}],
			},
			vectorLayer = new ol.layer.Vector({
				source: new ol.source.Vector({
					features: new ol.format.GeoJSON().readFeatures(geojsonObject),
				}),
				style: new ol.style.Style({
					stroke: new ol.style.Stroke({
						color: 'blue',
					}),
					fill: new ol.style.Fill({
						color: 'rgba(0, 0, 255, 0.3)',
					}),
				}),
			});

		new ol.Map({
			target: 'map',
			controls: myol.control.collection({
				permalink: {
					display: true,
				},
			}),
			layers: [
				new ol.layer.Tile({
					source: new ol.source.OSM(),
				}),
			],
		});
	</script>
</head>

<body>
	<a style="float:right" href="marker.html">Next &#9654;</a>
	<a style="float:right;margin-right:15px" href="..">HOME</a>
	<h1 style="margin:0">Controls</h1>
	<a style="float:right" href="https://github.com/Dominique92/MyOl/">GITHUB &#9654;</a>
	<p><a href="../src/Controls.js">src/Controls.js</a> usefull controls:
		<ul>
			<li>Full screen</li>
			<li>Geocoder</li>
			<li>Print</li>
			<li>Length of a line</li>
			<li>Load GPX file</li>
			<li>Download GPX file</li>
		</ul>
	<p><a href="../src/Geolocation.js">src/Geolocation.js</a> adds GPS position control:
		<ul>
			<li>GPS</li>
		</ul>
	<p><a href="../src/MyGeocoder.js">src/controlCollection.js</a> adds GPS name location finding:
		<ul>
			<li>Geocoder</li>
		</ul>
	</p>

	<div>
		<div id="map" class="map"></div>
	</div>

	<div id="myol-help">
		<p>Ceci est un exemple d'aide.</p>
	</div>
</body>
</html>