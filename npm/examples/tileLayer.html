<!DOCTYPE html>
<!--
© Dominique Cavailhez 2019
https://github.com/Dominique92/MyOl
Based on https://openlayers.org
-->
<html>
<head>
	<title>My Openlayers tile layers</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link href="images/favicon.png" rel="icon" type="image/png" />
	<link href="images/favicon.png" rel="apple-touch-icon" />
	<link href="parts/style.css" rel="stylesheet">
</head>

<body>
	<a style="float:right" href="vectorLayer.html">Vector layer &#9654;</a>
	<a style="float:right;margin-right:15px" href="..">HOME</a>
	<h1 style="margin:0">Tile layer</h1>
	<a style="float:right" href="https://github.com/Dominique92/MyOl/">GITHUB &#9654;</a>
	<p><a href="../src/TileLayerCollection.js">src/TileLayerCollection.js</a> defines a collection of tile baselayers</p>

	<div id="map" class="map"></div>

	<script>
		const layersKeys = {
			// Get your own (free) IGN key at https://geoservices.ign.fr/
			ign: {key: 'iejxbx4obzhco6c8klxrfbto'},
			// Get your own (free) THUNDERFOREST key at https://manage.thunderforest.com/dashboard
			thunderforest: {key: 'ee751f43b3af4614b01d1bce72785369'},
			// Get your own (free) OS key at https://osdatahub.os.uk/
			os: {key: 'P8MjahLAlyDAHXEH2engwXJG6KDYsVzF'},
			// Get your own (free) BING key at https://www.microsoft.com/en-us/maps/create-a-bing-maps-key
			bing: {key: 'AldBMbaKNyat-j6CBRKxxH05uaxP7dvQu1RnMWCQEGGC3z0gjBu-bLniE_8WZvcC'},
			// Get your own key at http://www.kompass.de/livemap/
			kompass: {key: '2ba8c124-38b6-11e7-ade1-e0cb4e28e847'},
		};
	</script>
	<script type="module">
		// Openlayers
		import 'ol/ol.css';
		import Attribution from 'ol/control/Attribution';
		import Map from 'ol/Map';
		import View from 'ol/View';
		import Zoom from 'ol/control/Zoom';

		// MyOl
		import LayerSwitcher from '../src/LayerSwitcher';
		import * as tileLayerCollection from '../src/TileLayerCollection';


		const map = new Map({
			target: 'map',
			view: new View({
				center: [700000, 5600000], // Sud est
				zoom: 7,
				constrainResolution: true, // Force le zoom sur la définition des dalles disponibles
			}),
			controls: [
				new Zoom(),
				new Attribution({
					collapsed: false,
				}),
				new LayerSwitcher({
					layers: tileLayerCollection.demo(layersKeys),
				}),
			],
		});

		map.getView().on('change:resolution', function() {
			console.log('resolution = ' + Math.round(this.getResolutionForZoom(this.getZoom())))
		});
	</script>
	<script src="parts/print_script.js"></script>

	<h4 style="margin-bottom:0">Tests</h4>
	<div>Check all baselayers</div>
	<div>CTRL+ 2 layers</div>
</body>
</html>